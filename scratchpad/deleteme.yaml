        - name: OCP_USER
          valueFrom:
            configMapKeyRef:
              name: skopeo-config
              key: ocp.user
        - name: OCP_PASS
          valueFrom:
            configMapKeyRef:
              name: skopeo-config
              key: ocp.pass
        - name: QUAY_USER
          valueFrom:
            configMapKeyRef:
              name: skopeo-config
              key: quay.user
        - name: QUAY_PASS
          valueFrom:
            configMapKeyRef:
              name: skopeo-config
              key: quay.pass

oc create secret docker-registry quay-cicd-secret --docker-server=quay.io --docker-username="pittar" --docker-password='Initech0627!' --docker-email=apitt@redhat.com -n cicd
oc create secret docker-registry quay-cicd-secret --docker-server=quay.io --docker-username="pittar" --docker-password='Initech0627!' --docker-email=apitt@redhat.com -n petclinic-dev
oc create secret docker-registry quay-cicd-secret --docker-server=quay.io --docker-username="pittar" --docker-password='Initech0627!' --docker-email=apitt@redhat.com -n petclinic-uat
oc secrets link default quay-cicd-secret --for=pull -n cicd
oc secrets link default quay-cicd-secret --for=pull -n petclinic-dev
oc secrets link default quay-cicd-secret --for=pull -n petclinic-dev

oc new-app --name=tasks --docker-image=quay.io/pittar/petclinic-dev:latest --allow-missing-images -n petclinic-dev

oc new-build --name=tasks --image-stream=redhat-openjdk18-openshift:1.4 --binary=true --push-secret=quay-cicd-secret --to-docker --to='quay.io/pittar/petclinic:latest' -n petclinic-dev

oc create secret generic quay-creds-secret --from-literal="username=pittar" --from-literal='password=Initech0627!' -n cicd
oc label secret quay-creds-secret credential.sync.jenkins.openshift.io=true -n cicd
